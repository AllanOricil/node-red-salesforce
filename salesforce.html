<script type="text/html" data-template-name="salesforce-credentials">
  <div class="form-row">
    <label for="node-config-input-name">
      <i class="fa fa-id-card-o"></i>
      <span data-i18n="salesforce.label.connection_name"></span>
    </label>
    <input type="text" id="node-config-input-name" />
  </div>
  <div class="form-row">
    <label for="node-config-input-instance_url">
      <i class="fa fa-laptop"></i>
      <span data-i18n="salesforce.label.instance_url"></span>
    </label>
    <input type="text" id="node-config-input-instance_url" />
  </div>
  <div class="form-row">
    <label for="node-config-input-username">
      <i class="fa fa-user"></i>
      <span data-i18n="salesforce.label.username"></span>
    </label>
    <input type="text" id="node-config-input-username" />
  </div>
  <div class="form-row">
    <label for="node-config-input-password">
      <i class="fa fa-key"></i>
      <span data-i18n="salesforce.label.password"></span>
    </label>
    <input type="password" id="node-config-input-password" />
  </div>
  <div class="form-row">
    <label for="node-config-input-connected_app_client_id">
      <i class="fa fa-sitemap"></i>
      <span data-i18n="salesforce.label.connected_app_client_id"></span>
    </label>
    <input type="password" id="node-config-input-connected_app_client_id" />
  </div>
  <div class="form-row">
    <label for="node-config-input-connected_app_client_secret">
      <i class="fa fa-sitemap"></i>
      <span data-i18n="salesforce.label.connected_app_client_secret"></span>
    </label>
    <input type="password" id="node-config-input-connected_app_client_secret" />
  </div>
</script>

<script type="text/javascript">
  (function () {
    RED.nodes.registerType('salesforce-credentials', {
      category: 'config',
      defaults: {
        name: { value: '', required: false },
        instance_url: { value: 'https://login.salesforce.com', required: true },
      },
      credentials: {
        username: { type: 'text', required: true },
        password: { type: 'password', required: true },
        connected_app_client_id: { type: 'password', required: true },
        connected_app_client_secret: { type: 'password', required: true },
      },
      exportable: false,
      label: function () {
        return this.name || this.instance_url;
      },
    });
  })();
</script>

<script type="text/html" data-template-name="soql">
  <div class="form-row">
    <label for="node-input-connection">
      <i class="fa fa-sitemap"></i>
      <span data-i18n="salesforce.label.salesforce_connection"></span>
    </label>
    <input type="text" id="node-input-connection" />
  </div>
  <div class="form-row">
    <label for="node-input-api_version">
      <i class="fa fa-gear"></i>
      <span data-i18n="salesforce.label.api_version"></span>
    </label>
    <input type="text" id="node-input-api_version" />
  </div>
  <div class="form-row">
    <label for="node-input-soql">
      <i class="fa fa-database"></i>
      <span id="node-input-soql-label" data-i18n="salesforce.label.soql"></span>
    </label>
    <input type="text" id="node-input-soql" />
  </div>
</script>

<script type="text/javascript">
  RED.nodes.registerType('soql', {
    category: 'sf',
    color: '#FFFFFF',
    defaults: {
      connection: { type: 'salesforce-credentials', required: true },
      soql: { value: '', required: true },
      inputs: { value: 0 },
    },
    inputs: 0,
    outputs: 1,
    icon: 'salesforce.png',
    label: 'soql',
    oneditprepare: function () {
      $('#node-input-api_version').typedInput({
        types: [
          {
            value: '60.0',
            options: [
              { value: '60.0', label: 'v60.0' },
              { value: '59.0', label: 'v59.0' },
              { value: '58.0', label: 'v58.0' },
              { value: '57.0', label: 'v57.0' },
              { value: '56.0', label: 'v56.0' },
              { value: '55.0', label: 'v55.0' },
              { value: '54.0', label: 'v54.0' },
              { value: '53.0', label: 'v53.0' },
              { value: '52.0', label: 'v52.0' },
              { value: '51.0', label: 'v51.0' },
              { value: '50.0', label: 'v50.0' },
              { value: '49.0', label: 'v49.0' },
              { value: '48.0', label: 'v48.0' },
              { value: '47.0', label: 'v47.0' },
              { value: '46.0', label: 'v46.0' },
              { value: '44.0', label: 'v44.0' },
              { value: '44.0', label: 'v44.0' },
              { value: '43.0', label: 'v43.0' },
              { value: '42.0', label: 'v42.0' },
              { value: '41.0', label: 'v41.0' },
              { value: '40.0', label: 'v40.0' },
              { value: '39.0', label: 'v39.0' },
              { value: '38.0', label: 'v38.0' },
              { value: '37.0', label: 'v37.0' },
              { value: '36.0', label: 'v36.0' },
              { value: '35.0', label: 'v35.0' },
              { value: '34.0', label: 'v34.0' },
              { value: '33.0', label: 'v33.0' },
              { value: '32.0', label: 'v32.0' },
              { value: '30.0', label: 'v30.0' },
            ],
          },
        ],
      });
    },
  });
</script>
